# 需求规格说明

## 知识图谱构建子系统

### 导言

#### 目的
本文旨在说明知识图谱构建子系统的功能需求和非功能需求。

本文预期阅读对象是：
- 项目的开发人员
- 测试人员
- 维护人员
- 用户
### 系统概述

#### 背景分析

项目旨在构建海外文物知识图谱，通过从海外博物馆网站爬取中国文物信息，并将其加工处理为三元组形式，最终保存到图数据库中，以实现知识图谱的构建和可视化。主要功能包括数据爬取、数据建模、数据补充和数据存储。为了实现这些功能，需要对爬取的文物信息进行提取和格式化处理，并根据需要补充数据。最终，整理的数据将保存到图数据库中，并可用于关系图谱、时间轴等知识图谱的可视化和问答功能开发。

#### 系统要达到的目标

1.数据的完整性和一致性：确保从馆网站爬取的文物信息完整，并且在数据处理和存储过程中保持一致性，避免数据丢失或冗余。

2.数据的可扩展性和可维护性：系统应该具备良好的扩展性和可维护性，能够方便地添加新的博物馆网站或其他数据源，并且在系统运行过程中能够方便地进行维护和更新。

3.能够很好的为其他小组提供可靠的信息：使用此数据进行关系图谱和时间轴等知识图谱可视化，确保系统能够定期自动爬取数据，并将数据处理成结构化的三元组形式，以供后续知识图谱的构建和可视化使用。

4.数据的安全性和隐私保护：在数据爬取、处理和存储过程中，系统应该确保文物信息的安全性，防止数据泄露和滥用，并且遵守相关的隐私保护法律和规定。

### 运行环境

**操作系统**：支持 Python 开发的操作系统，如 Windows、Linux 或 macOS。

**Python 版本**：安装 Python 解释器，建议使用 Python 3.x 版本。

**网络连接**：确保系统能够正常连接互联网，以便爬取海外博物馆网站的数据。

**图数据库**：Neo4j，用于存储和查询文物信息的三元组数据。

**数据库**：MySQL，用于存储用户数据和其他非图数据。

**必要的 Python 库**：确保安装了需要的 Python 库，如 requests、BeautifulSoup、py2neo 等，用于实现爬虫功能、数据处理和与图数据库的交互。

**存储空间**：足够的存储空间用于保存爬取到的文物信息和图数据库的数据。

### 知识图谱构建

#### 数据说明

- 爬取数据构成
  - 文物ID
  - 文物名称
  - 文物时代
  - 文物质地
  - 文物所属藏馆
  - 文物介绍
  - 文物对应的详情页面的URL
  - 原图下载链接

#### 功能

 **数据爬取**：
   - 从海外博物馆网站爬取中国文物信息，包括文物名称、图片、年代、介绍等信息。
   - 爬取指定的4家博物馆的所有文物。

**数据建模**：
   - 将爬取的数据转化为三元组形式，即(subject, predicate, object)的形式。
  
**数据补充**：
   - 根据需要从互联网爬取数据，对现有数据进行补充，如相关数据的基础信息缺失。
   - 例如，从百度百科下载数据，补充现有数据，如书画作家信息等。

**数据存储**：
   - 将根据步骤2中建模好的三元组数据保存到图数据库中（Virtuoso 或 Neo4j），用于构建知识图谱。
   - 可以将数据发布成链接开放数据，用于关系图谱、时间轴等知识图谱的可视化和问答功能开发。
   - 全部数据（用户数据和文物数据等）需要保存到数据库（MySQL ）中，以保证数据的完整性和一致性。

#### 系统性能需求

**响应时间**：
- 系统对用户请求的响应时间应在合理范围内，通常应在几秒内完成。特别是在数据爬取、处理和查询等耗时操作中，系统应该尽可能地提供快速响应，以提高用户体验。

**可用性**：
   - 系统应该具有良好的可用性，能够7x24小时持续运行，保持稳定性和可靠性。在运行过程中出现异常情况时，系统应该能够自动进行恢复或提供相应的报警机制，以减少因故障而导致的系统停机时间。

 **并发性**：
   - 系统应该能够处理多个并发请求，并保持良好的性能表现。特别是在高并发访问情况下，系统应该能够有效地处理请求，避免因过载而导致性能下降或系统崩溃。
  
**容错性**：
   - 系统应该具有较强的容错性，能够在出现异常情况时进行自动恢复或提供相应的容错机制。例如，对于网络异常、数据库连接失败等情况，系统应该能够正确处理，并给出相应的提示或报警信息，以减少系统故障对用户造成的影响。

**安全性**：
   - 系统应该具有良好的安全性，能够保护用户数据和系统资源不受未授权访问、攻击或恶意行为的侵害。特别是在数据传输和存储过程中，系统应该采取合适的加密和访问控制措施，保障数据的机密性、完整性和可用性。



## 海外文物知识服务子系统

### 目标

- 提供全面且准确的海外文物知识，包括其历史、文化背景、特点和价值等方面的信息。
- 提供海外文物藏品的高质量图像和文献资料，以便用户进行深入学习和研究。
- 提供用户友好的查询界面和交互功能，方便用户快速获取所需信息。
- 支持用户的个性化需求，例如收藏和分享功能，以及定制化的推荐服务。

### 功能需求

**文物查询功能**

- 提供基于关键字、分类、地域等多种查询方式，方便用户快速检索相关文物信息。
- 支持高级搜索功能，例如按时间、文物类型等进行筛选。
- 提供搜索结果的排序和过滤功能，以便用户更好地组织和浏览查询结果。

**文物详情展示**

- 显示文物的详细信息，包括名称、历史背景、文化意义、制作工艺等。
- 提供高清图像展示

**非功能需求**

***用户界面***

- 设计直观、易用的用户界面，使用户能够快速上手并轻松使用系统的功能。
- 响应式设计，适应不同的屏幕尺寸和设备，包括桌面、平板和手机等。

***数据安全和保护***

- 确保用户的个人信息和数据安全，采取合适的加密和隐私保护措施。
- 对上传的文物图像和文献资料进行备份和存储，保证数据的完整性和可访问性。

***性能和可扩展性***

- 提供稳定、高效的系统性能，保证用户查询和浏览的快速响应。
- 考虑系统的可扩展性，以便在未来能够支持更多的文物信息和用户访问量的增长。

### 技术实现

- 前端界面：采用现代化的前端技术Vue，确保良好的用户体验和界面交互。
- 后端开发：选择合适的后端开发语言和框架，以支持系统的查询和数据处理功能。
- 数据库管理：使用可靠的数据库管理系统，存储和管理文物信息、图像和文献资料等数据。

### 项目规划

- 确定项目的时间计划和里程碑，包括需求分析、设计、开发、测试和部署等阶段。
- 分配合适的人员，确保项目的顺利进行和高质量的交付。
- 进行系统的测试和优化，确保系统的稳定性和性能。
- 实施上线和发布，确保系统能够得到广泛的使用和认可。
  
## 知识问答板块

### 目标

- 提供一个高效且准确的知识问答系统，利用知识图谱回答关于中国文物的查询。
- 提供简洁、直观的用户界面，以支持用户快速且轻松地提交问题并接收答案。
- 确保系统的响应时间快，用户体验良好。
- 支持系统的可扩展性，为未来增加更多知识点或功能留出空间。
- 可实时交互。

### 功能需求

**用户界面**

- 提供一个简洁且直观的界面，用户可以在此输入问题。
- 显示问题的答案及相关信息。
- 支持快捷指令询问。
- 支持查找历史问答记录。

**问答系统处理**

***基础问答***
- 接收用户输入的问题。
- 将问题转换成对知识图谱的有效查询语句。
- 从知识图谱中检索信息并提取答案。
- 返回结构化的答案。
- 提供关于文物的各种相关知识交互问答。
- 提供关于特定实体和其属性的基本信息查询。
***复杂问答(选做)***
- 多实体关联查询：用户可以询问涉及多个实体的复杂关系。
- 条件筛选查询。
***闲聊板块(选做)***
- 文化知识普及。
- 用户兴趣探索功能。

**知识图谱管理**

- 管理和维护一个具有丰富信息的知识图谱数据库。
- 更新数据库以包含最新的研究和发现。
- 确保数据的准确性和时效性。

### 技术需求

**前端** 
使用React.js开发响应式网页应用。

**后端**
使用Node.js处理服务器端请求和逻辑。

**数据库**
mysql用于存储和管理知识图谱数据。

**版本控制和协作**
使用GitHub进行代码管理和Huawei DevCloud进行项目协作和文档管理。

**外部API**
集成OpenAI ChatGPT API以增强问答系统的智能。

### 性能需求

- 系统应能快速响应用户查询（目标为2-5秒内返回结果）。
- 系统应能支持高并发的用户访问。

### 安全需求

- 实施用户数据保护，确保所有个人信息的安全。
- 系统应有能力抵御常见的网络攻击，如SQL注入、跨站脚本攻击等。

### 项目规划

- 项目启动：完成项目分组、技术选择确认、项目管理计划制定。
- 需求与设计：完成需求规格说明和系统设计初稿。
- 开发阶段：前端和后端开发实施，数据库设计与集成测试。
- 系统测试：进行系统集成测试，调优性能和用户体验。
- 准备发布：准备系统发布所需的所有文档和演示材料，完成系统演示准备。

## 掌上博物馆
### 项目目的

编写手机端App，主要支持文物展示、用户交互等功能。选取知识图谱构建子系统获取中的单类文物作为掌上博物馆的展示内容，例如瓷器、玉器、青铜器或中国画等。

***本文阅读人员:***  开发人员 测试人员 维护人员 用户

###  项目要求

 **文物浏览** 
显示文物的基本信息、图片，播放讲解等（如果提供了讲解音视频）；可以进行按照关键字搜索的简单搜索。

 **用户交互** 
用户可以对单个文物点赞、留言评论等功能、用户可以为单个文物上传自己拍摄的相关照片（例如，用户参观博物馆，拍摄了该文物的照片，然后上传）、可以上传针对某个文物的讲解（选做）、视频（选做）等。

 **以图搜图** 
可以上传图片或直接拍摄一个照片，根据上传图片特征搜索相关文物。

 **用户个人信息管理** 
用户可以注册登录该系统，设置用户名密码等个人信息。用户信息可以和海外文物知识服务子系统共用或单独使用一套用户系统。

 **用户个人动态（选做）** 
用户可以发表动态，上传文字和图片，分享文物或博物馆等，其他用户可以点赞、评论等。（类似微博）

### 运行环境

本系统无论客户端的使用者还是管理端的管理者都可以通过网络登录到本系统中，使用者通过网络查询相关信息，管理者通过网络发布相关信息。

 **系统硬件要求** ： 安卓6.0及以上

### 角色定义

 **使用者** ：使用者是指在APP使用本系统查询文物相关信息，使用本系统提供的功能的人员。

 **管理者** ：管理者是指在管理端执行上传、更新、修正信息，以及对本系统进行维护升级等相关功能的人员。

### 功能说明

 **用例：用户注册**
主要参与者：用户
场景：
1.进入未登录时的主界面
2.点击注册
3.填写相关信息
4.点击注册完成注册
5.返回登陆页面
异常：
注册信息不合法则注册不通过。
次要参与者：系统管理员
参与方式：审核注册信息

 **用例：用户登录** 
主要参与者：用户
场景：
1.进入未登录时的主页面
2.填写账号密码
3.点击登录进行登录
异常：
1.填写未注册的账号，登陆失败。
2.填写错误的密码，登陆失败。

 **用例：用户关键字搜索文物** 
主要参与者：用户
场景：
1.用户进入APP
2.在主界面点击搜索框
3.输入有关文物的名称或者关键字
4.等待系统响应
5.系统响应成功，即可出现含关键字的文物名称下滑栏
6.点击文物查看信息
异常：
1.系统未响应
2.未找到与信息相关的文物
次要参与者：系统后台
次要参与者参与方式：检索与关键字相关的文物并展示

 **用例：用户对文物进行点赞评价**
主要参与者：用户
场景：
1.打开软件进入登陆界面
2.登录
3.用户检索需要的文物
4.用户选择某样文物
5.进入文物详细界面
6.用户进行点赞
7.用户进入评论区
8.用户写下评论
9.点击上传评论
10.评论上传成功
异常：
服务器无响应
次要参与者：系统后台
次要参与者参与方式：显示点赞状态，保存并展示评论 

 **用例：用户修改个人信息** 
主要参与者：用户
场景：
1.用户进行登录
2.点击用户区进入用户中心
3.点击修改个人信息或者修改密码
4.编辑信息或密码
5.点击保存
6.返回主界面
异常：
1.用户点击编辑资料每点击保存。此时不保存用户编辑的资料。
2.用户编辑资料信息非法。
 
### 性能需求

 **响应时间需求** 
程序相应的事件应该在五秒以内。且不能长时间的没有响应。如果遇到长时间不能提供响应

 **可靠性需求** 
系统应该7*24小时都能提供服务，允许多人同时在客户端登陆，系统正常运行，且能正确显示相关内容。

 **系统安全性需求** 
系统要有严格的权限管理，防止用户的非法操作对系统造成破坏或者获取相关数据信息

## 后台管理子系统

### 目的
提供博物馆应用平台的的全面后台管理功能
提供直观、友好的前端交互页面
提供稳定、可靠、功能全面的管理后台

### 软件功能

#### 用户管理：
管理后台管理子系统用户、掌上博物馆用户、知识服务子系统用户的基础信息。
对用户信息的增删查改功能；
用户权限的管理，如登录、点赞、评论等用户功能的管理。
####  信息审核：
人工审核：评论、图片、音视频等。
评论自动审核功能：敏感词自动屏蔽
#### 数据管理：
系统用户增删改查
第三方用户增删改查
评论、点赞增删改查
博物馆数据增删改查
#### 数据备份和恢复：
支持数据库的备份和恢复。实现手动备份恢复或定时备份功能。支持查看所有的备份和恢复记录，显示记录时间等相关功能。可通过点击备份记录来将数据库恢复到该备份记录点上。

#### 日志管理：
查看和检索后台管理子系统的操作日志。

### 性能需求

提供高效的系统管理服务
保证大数据量下的稳定服务
### 安全需求
企业级加密和鉴权功能
全面的角色权限管理

### 技术实现
前端：vue3
后端：springboot
数据库：mysql
缓存中间件：redis





